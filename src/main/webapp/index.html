<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Turbomeme - Brace yourselves... more meme garbage is coming</title>
  <link rel="stylesheet" type="text/css" href="turbomeme.css">
</head>
<body>
<div id="root">
  <div class="header">
    <h1 id="title">TURBOMEME</h1>
  </div>
  <div id="section1">
    <img src="img/ui/finger.png"/><br/><br/>
    <canvas id="image-sheet" width="800" height="600"></canvas>
  </div>
  <div id="section2">
    <img src="img/ui/finger.png"/>

    <p>You can position the text by pressing on it and dragging.</p>

    <div>
      <h3>Top text</h3>
      <textarea id="top-text" onkeyup="applyTopText()" rows="2" cols="50"></textarea>
    </div>
    <div id="image-canvas-and-filters">
      <div id="image-canvas"></div>
      <div id="filters">
        <p>
          <label><span>Grayscale</span> <input type="checkbox" id="grayscale"
                                               onclick="applyGrayscale()"></label>
        </p>

        <p>
          <label><span>Invert</span> <input type="checkbox" id="invert" onclick="applyInvert()"></label>
        </p>

        <p>
          <label><span>Sepia</span> <input type="checkbox" id="sepia" onclick="applySepia()"></label>
        </p>

        <p>
          <label><span>Sepia2</span> <input type="checkbox" id="sepia2" onclick="applySepia2()"></label>
        </p>

        <p>
          <label><span>Emboss</span> <input type="checkbox" id="emboss" onchange="applyEmboss()"></label>
        </p>

        <p>
          <label><span>Remove white</span> <input type="checkbox" id="remove-white"
                                                  onclick="applyRemoveWhite()"></label>
          <br>
          <label>Threshold <input type="range" id="remove-white-threshold"
                                  onchange="updateRemoveWhiteThreshold()" value="60" min="0"
                                  max="255"></label>
          <br>
          <label>Distance <input type="range" id="remove-white-distance"
                                 onchange="updateRemoveWhiteDistance()" value="50" min="0" max="255"></label>
        </p>

        <p>
          <label><span>Brightness</span> <input type="checkbox" id="brightness"
                                                onclick="applyBrightness()"></label>
          <br>
          <label>Value <input type="range" id="brightness-value" onchange="updateBrightnessValue()"
                              value="100" min="0" max="255"></label>
        </p>

        <p>
          <label><span>Noise</span> <input type="checkbox" id="noise" onclick="applyNoise()"></label>
          <br>
          <label>Value <input type="range" id="noise-value" onchange="updateNoiseValue()" value="100" min="0"
                              max="1000"></label>
        </p>

        <p>
          <label><span>Gradient transparency</span> <input type="checkbox" id="gradient-transparency"
                                                           onclick="applyGradientTransparency()"></label>
          <br>
          <label>Value <input type="range" id="gradient-transparency-value"
                              onchange="updateGradientTransparencyValue()" value="100" min="0"
                              max="255"></label>
        </p>

        <p>
          <label><span>Pixelate</span> <input type="checkbox" id="pixelate" onclick="applyPixelate()"></label>
          <br>
          <label>Value <input type="range" id="pixelate-value" onchange="updatePixelateValue()" value="4"
                              min="2" max="20"></label>
        </p>

        <p>
          <label><span>Tint</span> <input type="checkbox" id="tint" onchange="applyTint()"></label><br>
          <label>Color <input type="color" id="tint-color" onchange="updateTintColor()"
                              value="#00f900"></label><br>
          <label>Opacity <input type="range" id="tint-opacity" onchange="updateTintOpacity()" min="0" max="1"
                                value="0.5" step="0.1"></label><br>
        </p>

        <p>
          <label><span>Multiply</span> <input type="checkbox" id="multiply"
                                              onchange="applyMultiply()"></label><br>
          <label>Color <input type="color" id="multiply-color" onchange="updateMultiplyColor()"
                              value="#00f900"></label><br>
        </p>

        <p>
          <label><span>Blend</span> <input type="checkbox" id="blend" onchange="applyBlend()"></label>
          <br>
          <label>Mode</label>
          <select id="blend-mode" name="blend-mode" onchange="updateBlendMode()">
            <option selected value="add">Add</option>
            <option value="diff">Diff</option>
            <option value="subtract">Subtract</option>
            <option value="multiply">Multiply</option>
            <option value="screen">Screen</option>
            <option value="lighten">Lighten</option>
            <option value="darken">Darken</option>
          </select>
          <br>
          <label>Color <input type="color" id="blend-color" onchange="updateBlendColor()"
                              value="#00f900"></label><br>
        </p>
      </div>
    </div>
    <div>
      <h3>Bottom text</h3>
      <textarea id="bottom-text" onkeyup="applyBottomText()" rows="2" cols="50"></textarea>
      <br/>
      <br/>
    </div>
    <div id="section3">
      <img src="img/ui/finger.png"/><br/><br/>
      <form action="save" method="POST" onclick="publish()">
        <input id="publish-button" type="submit" value="PRESS HERE TO PUBLISH YOUR MEME"/>
        <input id="json" type="hidden" name="json" value=""/>
        <input id="meme-image-id" type="hidden" name="meme-image-id" value=""/>
      </form>
    </div>
  </div>
</div>
<script src="lib/fabricjs/1.5.0/fabric.min.js" type="text/javascript"></script>
<script src="image-data.js" type="text/javascript"></script>
<script src="image-map.js" type="text/javascript"></script>
<script src="turbomeme.js" type="text/javascript"></script>
</body>
</html>
